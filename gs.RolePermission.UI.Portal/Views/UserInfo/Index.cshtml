@model IEnumerable<gs.RolePermission.Model.UserInfo>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <script src="~/Content/jquery-easyui-1.3.1/jquery-1.8.0.min.js"></script>
    <script src="~/Content/jquery-easyui-1.3.1/jquery.easyui.min.js"></script>
    <script src="~/Content/jquery-easyui-1.3.1/locale/easyui-lang-zh_CN.js"></script>
    <link href="~/Content/jquery-easyui-1.3.1/themes/default/easyui.css" rel="stylesheet" />
    <link href="~/Content/jquery-easyui-1.3.1/themes/icon.css" rel="stylesheet" />
    <script src="~/Scripts/datapattern.js"></script>
</head>

<body>
    <table id="tt" style="width: 700px;" title="标题，可以使用代码进行初始化，也可以使用这种属性的方式" iconcls="icon-edit"></table>
</body>
</html>
<script type="text/javascript">
     $(function () {
            initTable();
        });
        //初始化表格
        function initTable() {
            $('#tt').datagrid({
                url: '/UserInfo/GetAllUserInfos',//请求时自动传入rows：一页多少条记录，page：请求的当前页，供后台使用
                title: '用户管理',
                width: 680,
                height: 380,
                fitColumns: true,//是否自适应列
                idField: 'ID',//一定要与后端返回的名称一致，所以ID=u.Id指定为ID,否则会导致拿不到数据等问题{ ID=u.Id,u.ModifyOn,u.Pwd,u.Remark,u.ShowName,u.SubTime,u.UName})
                loadMsg: '正在加载用户的信息...',
                pagination: true,//是否分页
                singleSelect: false,//是否只能单选
                pageSize: 10,
                pageNumber: 1,
                pageList: [10, 20, 30],//提供每页多少条记录的选择
                queryParams: {},//{ ID=u.Id,u.ModifyOn,u.Pwd,u.Remark,u.ShowName,u.SubTime,u.UName});
                columns: [[
                    { field: 'ck', checkbox: true, align: 'left', width: 50 },
                    { field: 'ID', title: '用户编号', width: 80 },
                    { field: 'UName', title: '用户名', width: 120 },
                    { field: 'Pwd', title: '密码', width: 120 },
                    { field: 'Remark', title: '备注', width: 120 },
                    //{
                    //    field: 'SubTime', title: '提交时间', width: 80, align: 'right',
                    //    formatter: function (value, row, index) {
                    //        return (eval(value.replace(/\/Date\((\d+)\)\//gi, "new Date($1)"))).pattern("yyyy-M-d h:m:s.S");
                    //    }
                    //}//这个日期转换用到第三方插件datapattern.js，先复制到Scripts文件夹下，然后再上面导入
                    
                ]],
                toolbar: [{
                    id: 'btnDownShelf',
                    text: '添加用户',
                    iconCls: 'icon-add',
                    handler: function () {
                        alert("测试，后期完善");
                    }
                }],
                onHeaderContextMenu: function (e, field) {

                }
            });

        }
</script>
